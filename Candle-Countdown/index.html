<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>Candle Countdown - Abraão Moreira</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">


<link href="/pt-br/Candle-Countdown/" rel="alternate" hreflang="pt-BR" />
    


<meta name="description" content="A personal website, portfolio, blog, and project explanations. I write about development (React, NextJS, and MQL), business, and some other things my mind produces.">



<meta name="keywords" content="React,NextJS,MQL5,MQL4,Metatrader">



    <meta name="description" content="IntroductionPeople who perform financial transactions in financial markets often use price charts to visualize the market movement and support their decisions, a common type of chart for this purpose">
<meta property="og:type" content="article">
<meta property="og:title" content="Candle Countdown">
<meta property="og:url" content="http://abraaomoreira.com/Candle-Countdown/index.html">
<meta property="og:site_name" content="Abraão Moreira">
<meta property="og:description" content="IntroductionPeople who perform financial transactions in financial markets often use price charts to visualize the market movement and support their decisions, a common type of chart for this purpose">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://abraaomoreira.com/Candle-Countdown/cd-v100.gif">
<meta property="og:image" content="http://abraaomoreira.com/Candle-Countdown/cd-v101.gif">
<meta property="og:image" content="http://abraaomoreira.com/Candle-Countdown/cd-v102.gif">
<meta property="og:image" content="http://abraaomoreira.com/Candle-Countdown/cd-entradas.png">
<meta property="article:published_time" content="2020-04-09T03:00:00.000Z">
<meta property="article:modified_time" content="2021-04-17T01:42:06.340Z">
<meta property="article:author" content="Abraão Moreira">
<meta property="article:tag" content="mql5">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://abraaomoreira.com/Candle-Countdown/cd-v100.gif">





<link rel="icon" href="https://raw.githubusercontent.com/AbraaoM/abraaom.github.io/master/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


<meta name="generator" content="Hexo 5.3.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    AM.
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">Archives</a>
            
            <a class="navbar-item "
               href="/categories/en/projects">Projects</a>
            
            <a class="navbar-item "
               href="/about">About me</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" title="GitHub" target="_blank" rel="noopener" href="https://github.com/AbraaoM">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
            
<div class="column is-narrow has-text-centered">
    <div class="dropdown is-up is-right is-hoverable" style="margin-top: -0.2em;">
        <div class="dropdown-trigger">
            <button class="button is-small" aria-haspopup="true" aria-controls="dropdown-menu7">
                <span class="icon">
                    <i class="fas fa-globe"></i>
                </span>
                <span>English</span>
                <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
            </button>
        </div>
        <div class="dropdown-menu has-text-left" role="menu" style="top:100%">
            <div class="dropdown-content">
            
                <a href="/Candle-Countdown/" class="dropdown-item">
                    English
                </a>
            
                <a href="/pt-br/Candle-Countdown/" class="dropdown-item">
                    Português
                </a>
            
            </div>
        </div>
    </div>
</div>

        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            Candle Countdown
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <span>Apr 9 2020</span>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/en/">en</a><span>></span><a class="article-category-link" href="/categories/en/projects/">projects</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            3 minutes read (About 383 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>People who perform financial transactions in financial markets often use price charts to visualize the market movement and support their decisions, a common type of chart for this purpose is the candlestick chart, this type of chart generates a candle with price indications of open, close, maximum and minimum price levels in a certain period, after that period a new candle begins to be formed. The purpose of this work is to create a stopwatch that indicates the amount of time remaining for the closing of the current candle, offering to trader another tool that facilitates the understanding of the chart. </p>
<a id="more"></a>

<p><a target="_blank" rel="noopener noreferrer" href="https://www.mql5.com/pt/code/28175">Repositório MQL5 CodeBase</a><br><br><a target="_blank" rel="noopener noreferrer" href="https://github.com/AbraaoM/CandleCountdown">Repositório Github</a></p>
<h1 id="Methodology"><a href="#Methodology" class="headerlink" title="Methodology"></a>Methodology</h1><p>The default function OnCalculate has inputs standard that enables the obtaining of some asset information negotiated one is the time information of opening the candle using this information along with the current period on the graph and the current time the countdown is calculated following the following equation:</p>
<div align="center">
HR = HAb - HAt + P
</div>

<p>HR = Instant time for countdown;</p>
<p>HAb = Open time of current candle;</p>
<p>HAt = Current time (server time);</p>
<p>P = Current chart period where the indicators are applyed.</p>
<h1 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h1><h2 id="v1-00"><a href="#v1-00" class="headerlink" title="v1.00"></a>v1.00</h2><div align="center">
<img src="/Candle-Countdown/cd-v100.gif" alt="v1.00 example">
</div>

<p>In this version, the display is made using the Comment function, that is, the counter will appear in the upper left corner of the graph. In this type of visualization, the counter is discreet and does not interfere with the reading of the graph, although it is difficult to read due to the standard font size of the display method used.</p>
<h2 id="v1-01"><a href="#v1-01" class="headerlink" title="v1.01"></a>v1.01</h2><div align="center">
<img src="/Candle-Countdown/cd-v101.gif" alt="v1.01 example">
</div>

<p>Added display using objects. An object of type label was created and anchored in the top right, it is possible to edit the font size and color.</p>
<p>The possibility to choose between the types of display, “comment” or “Big Number” has also been added.</p>
<h2 id="v01-02"><a href="#v01-02" class="headerlink" title="v01.02"></a>v01.02</h2><div align="center">
<img src="/Candle-Countdown/cd-v102.gif" alt="v1.02 example">
</div>

<p>Added the display still through objects, but now with an object of type text, which is created and moved in order to follow the closing price of the last tick.</p>
<p>It is recommended to use a smaller font in this “On Price” mode than in the “Big Number” mode.</p>
<p>In the displays “Big number” and “On price” the user can choose the best way to view the counter in terms of size, color and style of the font.</p>
<div align="center">
<img src="/Candle-Countdown/cd-entradas.png" alt="Inputs example">
</div></body></html>
    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/mql5/">#mql5</a></span>
    
    </div>
    
    
</article>




    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2021 Abraão Moreira&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" target="_blank" rel="noopener" href="https://github.com/AbraaoM">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>

    
</body>
</html>